var oe=Object.defineProperty,ie=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var O=(s,n,e)=>n in s?oe(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e,h=(s,n)=>{for(var e in n||(n={}))se.call(n,e)&&O(s,e,n[e]);if(x)for(var e of x(n))re.call(n,e)&&O(s,e,n[e]);return s},S=(s,n)=>ie(s,ae(n));import{j as t,a as i,c as le,T as f,B as M,b as m,F as C,S as ce,d as Z,M as ee,e as de,C as ue,r as d,A as V,f as A,g as k,R as pe,h as he}from"./vendor.46700be3.js";const me=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}};me();const be=s=>t("svg",S(h({xmlns:"http://www.w3.org/2000/svg",width:425.333,height:417.333,viewBox:"0 0 319 313"},s),{children:t("path",{d:"M138.3 1.5c-6.2 1.9-12.9 6.1-15.7 9.8-1.9 2.6-27.3 47.1-41.9 73.6-3.5 6.2-4.8 17.5-2.8 23.3.6 1.8 9.8 18.7 20.4 37.5l19.2 34.1.3-40.4.2-40.4h20V74.4l10.4-6.1c5.8-3.3 10.7-5.9 11-5.5.3.3.6 30.5.6 67.1v66.6l3 .3 3 .3V43.4l9.3-5.4c5-3 9.5-5.7 10-5.8.4-.2.7 36.8.7 82.2V197h20.5l-.3-67.5c-.1-37.1 0-67.5.2-67.5s5.2 2.7 11 6.1l10.6 6.1V99h26l-.2 38.5c-.2 21.1 0 38.1.3 37.7 2.5-2.9 36.7-62.8 38.1-66.7 2.2-6.4 2.2-13.7-.1-20-1.4-4.1-30.7-54.3-43.2-74.2-3.7-6-9.3-10.4-16.2-12.7C228.6.2 222.1 0 185.2.1c-32.4 0-43.7.4-46.9 1.4zM104.3 224.4c-13.8 3.5-21.5 14.9-19.9 29.7 1.6 15.4 12.9 23.9 30.1 22.6 8.5-.7 10.4-1.3 9.9-3.5-1.4-7.5-.6-6.9-8.7-6.4-8 .5-11.4-.6-15.3-5-7.1-7.8-4.6-22.4 4.6-27 3.8-2 11.4-2.4 15.4-.8 2.3.9 2.6.7 3.6-2.8.5-2 1-4.2 1-4.8 0-2.6-13.5-3.8-20.7-2zM245.5 223.9c-8.9 2.3-13.5 7.5-13.5 15.3 0 6.5 3.3 10.2 13.7 15 6.5 3 8.4 4.3 8.9 6.3.8 3.1-1.5 6-5.4 6.8-2.5.5-7.3-.1-13.3-1.7-2.4-.7-2.7-.4-3.7 3.5-.6 2.4-.9 4.6-.6 5 .9 1.5 12 3.1 17.6 2.6 11.7-1 18.8-8.5 17.4-18.2-.9-5.7-4.5-9.1-14.2-13.6-7.2-3.3-8.4-4.2-8.4-6.3 0-4.3 2.6-5.9 8.9-5.3 3.1.3 6.4.7 7.5.9 1.4.2 2.1-.7 3.1-4 1.3-4.1 1.2-4.4-1-5.2-3.5-1.3-13.6-2-17-1.1zM293.3 224.4c-13.8 3.5-21.5 14.9-19.9 29.7 1.6 15.4 12.9 23.9 30.1 22.6 8.5-.7 10.4-1.3 9.9-3.5-1.4-7.5-.6-6.9-9.1-6.4-6.9.3-8.2.1-11.2-2-5.9-4-7.6-7.2-7.6-14.1 0-6.9 2.1-11.6 6.7-15 3.2-2.4 12.3-3.4 16.7-1.9 2.9 1 3.1 1 4.1-2.6.5-2 1-4.2 1-4.8 0-2.6-13.5-3.8-20.7-2zM0 250v26h33.1l-.3-4.6-.3-4.7-10.2.2-10.3.2V224H0v26zM50.5 225.2c-.2.7-3.6 11.8-7.5 24.7-3.9 12.8-7.4 24-7.7 24.8-.5 1.1.6 1.3 5.7 1.1l6.3-.3 1.6-6 1.6-6 7.7-.3 7.7-.3 1.9 6.3 2 6.3 6.1.3c4.5.2 6.1 0 6-1 0-.7-3.5-12.3-7.7-25.8l-7.7-24.5-7.8-.3c-5.6-.2-7.8.1-8.2 1zM61 242.7c1.3 4.9 2.5 9.4 2.8 10 .3 1-1.1 1.3-5.2 1.3-6.3 0-6.5-.3-4.2-6.8.8-2.2 1.8-6.1 2.1-8.6.4-2.5 1.1-4.6 1.5-4.6.4 0 1.7 3.9 3 8.7zM181.7 224.7c-1 1.7-.7 28.5.4 34.7.6 3.6 2.1 8.1 3.3 9.9 6.2 9.4 24 10.4 32.9 1.9 4.5-4.3 5.7-10.4 5.7-29.9v-17.4l-5.7.3-5.8.3-.2 17.9c-.3 20.7-1.1 23.4-7.6 25-3.1.8-4.2.6-6.5-1.1-4.3-3.1-5.1-7.2-5.1-25.6L193 224h-5.4c-3 0-5.7.3-5.9.7zM148.8 237.2l-.3 9.3-8.7.3-8.8.3v6.9h18v19h8v-19h16.8l.4-3.5.4-3.5H157v-19h-7.9l-.3 9.2zM.2 302.2c.2 7 .7 10.3 1.6 10.6.8.2 1.2-1.1 1.2-4.7V303h10v5.1c0 3.6.4 4.9 1.2 4.6.9-.2 1.3-3.2 1.3-10.2 0-7-.4-10-1.3-10.3-.8-.2-1.2 1-1.2 4.2v4.6H3v-4.5c0-3.4-.4-4.5-1.5-4.5-1.3 0-1.5 1.6-1.3 10.2zM21 302.5V313h5.5c6.5 0 7.4-1.7 1.3-2.2-4.2-.3-4.3-.4-4.6-4l-.3-3.8h4c2.3 0 4.1-.5 4.1-1 0-.6-1.8-1-4-1-3.9 0-4-.1-4-3.5 0-3.5 0-3.5 4.5-3.5 2.5 0 4.5-.5 4.5-1 0-.6-2.5-1-5.5-1H21v10.5zM41.2 293.7c-1.8 3.4-6.4 18.4-5.9 19 1.1 1 2.6-.7 3.2-3.7.6-2.7 1-3 4.5-3s3.9.3 5 3.5c1.1 3.4 3 4.8 3 2.2 0-.6-1.4-5.4-3.2-10.5-3.2-9-4.8-10.9-6.6-7.5zm3.2 4.7c.3 1.3.9 3.1 1.2 4 .5 1.3-.1 1.6-2.6 1.6s-3.1-.3-2.6-1.6c.3-.9.9-2.7 1.2-4 .8-3.1 2-3.1 2.8 0zM55.2 302.2l.3 10.3h5.3c5.7 0 6.9-1.8 1.2-1.9l-3.5-.1-.3-9.3c-.2-7.4-.6-9.2-1.8-9.2-1.2 0-1.4 1.7-1.2 10.2zM65 293c0 .5 1.4 1 3 1h3v9.5c0 7.8.3 9.5 1.5 9.5s1.5-1.7 1.5-9.5V294h3c1.7 0 3-.5 3-1 0-.6-3.2-1-7.5-1s-7.5.4-7.5 1zM83 302.5c0 8.1.3 10.6 1.3 10.3.7-.3 1.2-2.3 1.3-4.9l.1-4.4 5.1-.3 5.2-.3v5c0 2.8.5 5.1 1 5.1.6 0 1-4.2 1-10.5 0-5.9-.4-10.5-.9-10.5-.6 0-1.1 1.9-1.3 4.2l-.3 4.3h-9.8l-.1-3.9c-.1-2.2-.7-4.1-1.3-4.4-1-.3-1.3 2.2-1.3 10.3zM107.1 293.4c-7 3.9-6.5 15.5.7 18.5 3.4 1.4 8.4 1.1 8.9-.5.2-.6-1-.8-3.1-.6-2.7.3-4-.2-6-2.2-5.8-5.7-1.7-15.3 6.1-14.4 2.2.3 3.3 0 3.3-.9 0-1.7-6.7-1.7-9.9.1zM126.6 293.2c-.3.7-1.9 5.3-3.5 10.3-3.6 10.3-3.4 9.5-2 9.5.5 0 1.7-1.6 2.5-3.5 1.2-3 1.9-3.5 4.9-3.5 3 0 3.7.5 4.9 3.5 1.6 3.6 4.2 5 3.1 1.6-4.3-13.7-6.4-18.6-7.8-18.9-1-.2-1.9.2-2.1 1zm4.3 9.5c.1.7-1 1.3-2.4 1.3-2.9 0-2.9 0-1.3-5.3l1.2-4 1.2 3.4c.7 1.9 1.3 4 1.3 4.6zM141 302.5c0 6.3.4 10.5 1 10.5s1-2 1-4.5c0-4.1.2-4.5 2.4-4.5 2.7 0 3.6.9 5.1 5.4 1.2 3.7 4.1 5 3 1.5-.4-1.3-1.3-3.7-2.1-5.2-1.2-2.5-1.1-3.1.1-4.4 4-3.9.3-9.3-6.3-9.3H141v10.5zm9.4-6.3c1.3 2.2-1.8 5.8-5.1 5.8-2 0-2.3-.5-2.3-4.1 0-3.9.1-4 3.1-3.7 1.8.2 3.7 1.1 4.3 2zM158 302.5V313h5.5c6.5 0 7.4-1.7 1.3-2.2-4.2-.3-4.3-.4-4.6-4l-.3-3.8h4c2.3 0 4.1-.5 4.1-1 0-.6-1.8-1-4-1-3.9 0-4-.1-4-3.5 0-3.5 0-3.5 4.6-3.5 2.7 0 4.3-.4 3.9-1-.3-.6-2.8-1-5.6-1H158v10.5zM187 302.5c0 6.3.4 10.5 1 10.5s1-3.6 1-8.7v-8.7l4.1 7c4.5 7.5 6.8 10.4 8.1 10.4.4 0 .8-4.7.8-10.5 0-12.4-1.8-14.3-2.2-2.3l-.3 8.2-4.9-8.2c-2.8-4.5-5.6-8.2-6.3-8.2-1 0-1.3 2.5-1.3 10.5zM207.2 302.2l.3 10.3h5.3c5.7 0 6.9-1.8 1.2-1.9-3.3-.1-3.5-.3-3.8-3.9l-.3-3.7h4c2.3 0 4.1-.5 4.1-1 0-.6-1.8-1-4-1-3.9 0-4-.1-4-3.5s.1-3.5 4-3.5c2.2 0 4-.5 4-1 0-.6-2.5-1-5.5-1h-5.6l.3 10.2zM221 293c0 .5 1.4 1 3 1h3v9.6c0 7.2.3 9.5 1.3 9.1.8-.2 1.2-3.1 1.3-9.3l.2-8.9 3.1-.3c6.1-.6 3-2.2-4.4-2.2-4.3 0-7.5.4-7.5 1zM238.5 294.2c2.8 10.8 5.2 18.2 6.1 18.5.6.2 2.2-3.3 3.6-7.9l2.4-8.3 2 8c1.3 5.1 2.5 8 3.4 8 1.2 0 7.5-19.3 6.5-20.3-1.1-1.2-2.5 1.6-4.1 8.3-1 4.1-2.1 7.5-2.5 7.5-.3 0-.9-1.9-1.3-4.2-2.2-14.2-4.7-15.5-7.3-3.8-1 4.4-2.1 8-2.4 8-.3 0-1.4-3.6-2.3-8-1.2-5.5-2.2-8-3.2-8s-1.3.7-.9 2.2zM268.3 294.4c-2.5 2.1-2.8 3.1-2.8 8.1s.3 6 2.8 8.1c9.6 8.3 21.2-7.2 12.2-16.2-3.2-3.2-8.4-3.2-12.2 0zm10.6 2.2c1.2 1.5 2.1 4.1 2.1 5.9 0 3.9-3.4 8.5-6.3 8.5-3.7 0-6.7-3.8-6.7-8.7 0-7.7 6.6-11.1 10.9-5.7zM288 302.5c0 6.3.4 10.5 1 10.5s1-2 1-4.5c0-4.1.2-4.5 2.4-4.5 2.7 0 3.6.9 5.1 5.4 1.4 4 3.8 4.8 2.9.9-.3-1.5-1.3-3.9-2.1-5.1-1.3-2.1-1.3-2.6.1-4.1 3.9-4.2.5-9.1-6.2-9.1H288v10.5zm9-6.4c1.5 2.6-1.2 5.9-4.7 5.9-2 0-2.3-.5-2.3-4 0-3.8.2-4 3-4 1.9 0 3.3.7 4 2.1zM305 302.5c0 10.5 1.6 14.8 2.2 5.8.2-2.5.8-4.8 1.3-5 .6-.1 2.5 2 4.3 4.7 1.7 2.8 3.9 5 4.7 5 1.1 0 .4-1.7-2.5-6l-4.1-6 3.7-4.5c2.6-3.2 3.2-4.5 2.1-4.5-.9 0-3.1 2-4.9 4.5-1.8 2.4-3.6 4.4-4 4.5-.5 0-.8-2-.8-4.5s-.4-4.5-1-4.5-1 4.2-1 10.5z"})})),F=100,Ce=()=>i("div",{className:"header",children:[i("div",{className:"header-title",children:[t("h1",{children:"Massive Blood Transfusion Prediction in Trauma Patients"}),t(be,{className:"logo",width:F,height:F})]}),t("h2",{children:"Usability Surveys"}),i("p",{children:[t("strong",{children:"1."}),"  Please complete the ",t("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSf4OFb47nXxH-alEAhS0pK9W9RJlwJDZV_XxmgpoINMGxPFSA/viewform",target:"_blank",rel:"noreferrer",children:"Systems Usability Survey"})," ","after testing the app."]}),i("p",{children:[t("strong",{children:"2."})," Please complete the ",t("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSf4OFb47nXxH-alEAhS0pK9W9RJlwJDZV_XxmgpoINMGxPFSA/viewform",target:"_blank",rel:"noreferrer",children:"Usefulness, Satisfaction, and Ease of Use questionnaire"})," ","after testing the app."]})]}),g=le({palette:{primary:{main:"#17a2b8"}}}),Se=({setTop:s})=>t("div",{className:"info-buttons",children:i(f,{theme:g,children:[i(M,{variant:"contained","aria-label":"outlined primary button group",size:"small",children:[t(m,{onClick:()=>s("overview"),children:"Overview"}),t(m,{onClick:()=>s("ui"),children:"UI Style"}),t(m,{onClick:()=>s("missing"),children:"Missing Value"})]}),i(M,{variant:"contained","aria-label":"outlined primary button group",size:"small",children:[t(m,{onClick:()=>s("criteria"),children:"Criteria"}),t(m,{onClick:()=>s("default"),children:"Reset"})]})]})}),_={overview:{variables:9,threshold:.0667},model1:{variables:14,threshold:.079},model2:{variables:14,threshold:.065},model3:{variables:10,threshold:.067},model4:{variables:10,threshold:.063},model5:{variables:6,threshold:.073}},Re=s=>{const{model:n,top:e,setTop:o}=s;return i("div",{className:"top-info",children:[t(Se,{setTop:o}),e==="overview"&&i(C,{children:[t("p",{children:"Massive transfusion protocol (MTP) should be initiated when it is anticipated that a patient will need a massive blood transfusion (MT)."}),t("p",{children:"We define a MT as needing 10 or more units of packed red blood cells (PRBC) within 24 hours. The decision to initiate MTP has traditionally been made via physician judgement, but scoring methods such as ABC score are popular tools for assisting in the decision making process."}),t("p",{children:"The following tool is aimed to predict which patients will need MTP using a comprehensive set of variables that will likely be available to the physician at the time of the decision. We also present predictions for Shock Index and ABC Score for the user."})]}),e==="default"&&t("p",{children:"Please select from each tab to see More information"}),e==="ui"&&i(C,{children:[i("p",{children:["In this interface, we considered ",_[n].variables," variables in our model, in order to provide you with the most accurate result."]}),t("p",{children:"For all the numeric input, we designed slider for all of them, users can scroll across the slider to choose the number, the maximum and the minimum are shown on the two sides of the slider bar."}),t("p",{children:"For categorical input, we used radioButtons for all of them."})]}),e==="missing"&&i(C,{children:[t("p",{children:"In this model, the only required input is the age of patients."}),t("p",{children:"For the text vitals variables, if each value is missing, we will use the defaulted value, which is shown on the slider bar at initial screen."}),t("p",{children:"If any one of the included examinations or tests is not performed, the default value is either negative or not performed."})]}),e==="criteria"&&i(C,{children:[t("p",{children:"In this model, we have three criteria for initiating Massive Transfusion Protocol."}),i("ul",{children:[t("p",{children:i("li",{children:["\u2022 Estimated Probability greater or equal to ",_[n].threshold,"."]})}),t("p",{children:t("li",{children:"\u2022 Shock Index greater or equal to 1."})}),n!=="model5"&&t("p",{children:t("li",{children:"\u2022 ABC score greater or equal to 2."})})]})]})]})},Ne=()=>i("p",{className:"feedback",children:["Please, give us your feedback about the overall experience of this app ",t("a",{target:"_blank",href:"https://docs.google.com/forms/d/1j4lk1jxcV7SOnlkijVXUdmYn5MZNtBjeNhlSCJdg1fw",rel:"noreferrer",children:"here."})]}),l=s=>{const{defaultValue:n,title:e,description:o,range:r,setState:a,name:c,inputType:u,options:b,state:N,inputNumber:v}=s,P=p=>a(B=>S(h({},B),{[p.target.name]:Number(p.target.value)})),te=p=>a(B=>S(h({},B),{[p.target.name]:p.target.value})),ne=p=>a(B=>S(h({},B),{[p.target.name]:!B[p.target.name]}));return t(f,{theme:g,children:i("div",{className:"div-input-card",children:[i("h1",{className:"div-input-card__title",children:[e," ",t("span",{className:"div-input-card__number",children:v})]}),o&&t("p",{className:"div-input-card__descrption",children:o}),i("div",{className:"div-input-card__input",children:[u==="slide"&&i(C,{children:[t("div",{className:"div-input-card__input__slide",children:t(ce,{defaultValue:n,step:1,min:r[0],max:r[1],value:N[c],marks:[{value:r[0],label:`${r[0]}`},{value:r[1],label:`${r[1]}`}],name:c,onChange:P})}),t("input",{className:"div-input-card__input__value",onChange:P,value:N[c],type:"number",name:c})]}),u==="options"&&t(Z,{value:N[c],onChange:te,displayEmpty:!0,inputProps:{"aria-label":"Without label"},name:c,children:b.map(p=>t(ee,{value:p,children:p},p))}),u==="checkbox"&&t("div",{children:b.map(p=>t(de,{control:t(ue,{}),label:p.label,value:!0,name:p.name,onChange:ne,checked:N[p.name]},p.name))})]})]})})},L={AGE:25,DBP:80,SBP:120,RR:12,O2:80,HR:120,PR:"Not Performed",SPF:"No",FC:!1,FRLPA:!1,PNR:"No",BLR:"No",GCSEO:"Not Testable +0",GCSVR:"Not Testable/Intubated +0",GCSMR:"Not Testable +0",INTERCEPT:1},I={AGE:.028639,BLR:.733616,DBP:.026174,FC:.36815,FRLPA:-.468946,GCSEO:-.273304,GCSMR:-.203207,GCSVR:-.039935,HR:.017893,INTERCEPT:-.05325,O2:-.028192,PLRA:.142923,PLRN:.756816,PNR:.418793,RR:.037764,SBP:-.037519,SPF:.326484},z=.079345094,Pe=({state:s,setIsMTP:n})=>{const e=h({},s);switch(e.INTERCEPT=1,e.SPF=e.SPF==="Yes"?1:0,e.PNR=e.PNR==="Yes"?1:0,e.BLR=e.BLR==="Yes"?1:0,e.PLRA=0,e.PLRN=0,e.PR){case"Positive":e.PLRN=1;break;case"Negative":e.PLRA=1;break}switch(e.GCSEO){case"Spontaneously +4":e.GCSEO=4;break;case"To Verbal Commend +3":e.GCSEO=3;break;case"To Pain +2":e.GCSEO=2;break;case"No Eye Opening +1":e.GCSEO=1;break;default:e.GCSEO=0;break}switch(e.GCSVR){case"Oriented +5":e.GCSVR=5;break;case"Confused +4":e.GCSVR=4;break;case"Inappropiate Words +3":e.GCSVR=3;break;case"Incomprehensible Sounds +2":e.GCSVR=2;break;case"No Verbal Response +1":e.GCSVR=1;break;default:e.GCSVR=0;break}switch(e.GCSMR){case"Obeys Commands +6":e.GCSMR=6;break;case"Localizes Pain +5":e.GCSMR=5;break;case"Withdrawal from Pain +4":e.GCSMR=4;break;case"Flexion to Pain +3":e.GCSMR=3;break;case"Extension to Pain +2":e.GCSMR=2;break;case"No Motor Response +1":e.GCSMR=1;break;default:e.GCSMR=0;break}let o=0;Object.keys(I).forEach(c=>{o+=e[c]*I[c]}),o=1/(1+Math.exp(-o));const r=e.HR/e.SBP;let a=0;a+=e.PNR?1:0,a+=e.SBP>90?1:0,a+=e.HR>120?1:0,a+=e.FC+e.FRLPA>0?1:0,n(c=>S(h({},c),{model:{protocol:o>z,label:o>z?"should":"shouldn't",prediction:o},SI:{protocol:r>=1,label:r>=1?"should":"shouldn't",prediction:r},ABC:{protocol:a>=2,label:a>=2?"should":"shouldn't",prediction:a}}))},fe=()=>({state:n,setIsMTP:e})=>{d.exports.useEffect(()=>{Pe({state:n,setIsMTP:e})},[n])},ge="https://script.google.com/macros/s/AKfycbzF4piYCsyh3cW3RkbT24O87jQczGN88FIDtYySYKuTEat2GnY4R2sPtwTKiW9DT_GK8Q/exec",w=({state:s,isMTP:n,setShowResults:e,setResultSerialNumber:o,modelNum:r})=>{let a=h({},s);a.model=n.model?n.model.prediction:void 0,a.SI=n.SI?n.SI.prediction:void 0,a.ABC=n.ABC?n.ABC.prediction:void 0,a.modelNum=r,fetch(ge,{method:"POST",body:JSON.stringify(a)}).then(c=>{console.log(c),c.json().then(u=>{o(u.serialNumber)})}).catch(c=>console.log(c)).finally(()=>{e(!0)})},ve=()=>{const[n,e]=d.exports.useState(L),[o,r]=d.exports.useState({}),[a,c]=d.exports.useState(!1),[u,b]=d.exports.useState();return fe()({state:n,setIsMTP:r}),i(C,{children:[i("div",{className:"model-input-zone",children:[t(l,{defaultValue:25,inputNumber:"(1/14)",inputType:"slide",name:"AGE",range:[16,100],setState:e,state:n,title:"Age"}),t(l,{defaultValue:120,description:"(mm Hg)",inputNumber:"(2/14)",inputType:"slide",name:"SBP",range:[1,200],setState:e,state:n,title:"Systolic Blood Pressure"}),t(l,{defaultValue:80,description:"(mm Hg)",inputNumber:"(3/14)",inputType:"slide",name:"DBP",range:[1,200],setState:e,state:n,title:"Diastolic Blood Pressure"}),t(l,{defaultValue:12,description:"(Breaths per minute)",inputNumber:"(4/14)",inputType:"slide",name:"RR",range:[1,40],setState:e,state:n,title:"Respiratory Rate"}),t(l,{defaultValue:12,description:"(O2%)",inputNumber:"(5/14)",inputType:"slide",name:"O2",range:[1,100],setState:e,state:n,title:"Oxygen Saturation %"}),t(l,{defaultValue:120,description:"(Beats per minute)",inputNumber:"(6/14)",inputType:"slide",name:"HR",range:[1,200],setState:e,state:n,title:"Heart Rate"})]}),t("h1",{style:{marginTop:40},children:"Examination"}),i("div",{className:"model-input-zone",children:[t(l,{defaultValue:"Not Performed",inputNumber:"(7/14)",inputType:"options",name:"PR",options:["Not Performed","Positive","Negative"],setState:e,state:n,title:"Pelvis Exam Result"}),t(l,{defaultValue:"No",inputNumber:"(8/14)",inputType:"options",name:"SPF",options:["Yes","No"],setState:e,state:n,title:"Severe Pelvis Fracture"}),t(l,{defaultValue:"Negative",inputNumber:"(9/14)",inputType:"checkbox",name:"FAST",options:[{name:"FC",label:"Positive Chest"},{name:"FRLPA",label:"Positive RUQ, LUQ, Pelvis, Abdomen"}],setState:e,state:n,title:"FAST Exam Result"}),t(l,{defaultValue:"No",inputNumber:"(10/14)",inputType:"options",name:"PNR",options:["Yes","No"],setState:e,state:n,title:"Penetrating Trauma"}),t(l,{defaultValue:"No",inputNumber:"(11/14)",inputType:"options",name:"BLR",options:["Yes","No"],setState:e,state:n,title:"Blunt Trauma"})]}),t("h1",{style:{marginTop:40},children:"GCS Test"}),i("div",{className:"model-input-zone",children:[t(l,{defaultValue:"Not Testable +0",inputNumber:"(12/14)",inputType:"options",name:"GCSEO",options:["Spontaneously +4","To Verbal Commend +3","To Pain +2","No Eye Opening +1","Not Testable +0"],setState:e,state:n,title:"GCS Eye Opening"}),t(l,{defaultValue:"Not Testable/Intubated +0",inputNumber:"(13/14)",inputType:"options",name:"GCSVR",options:["Oriented +5","Confused +4","Inappropiate Words +3","Incomprehensible Sounds +2","No Verbal Response +1","Not Testable/Intubated +0"],setState:e,state:n,title:"GCS Verbal Response"}),t(l,{defaultValue:"Not Testable +0",inputNumber:"(14/14)",inputType:"options",name:"GCSMR",options:["Obeys Commands +6","Localizes Pain +5","Withdrawal from Pain +4","Flexion to Pain +3","Extension to Pain +2","No Motor Response +1","Not Testable +0"],setState:e,state:n,title:"GCS Motor Response"})]}),t("div",{className:"info-buttons",children:t(f,{theme:g,children:i(M,{variant:"contained","aria-label":"outlined primary button group",size:"large",children:[t(m,{onClick:()=>{w({state:n,isMTP:o,setShowResults:c,setResultSerialNumber:b,modelNum:1})},children:"Predict"}),t(m,{onClick:()=>{e(L),c(!1),b()},children:"Reset"})]})})}),i("div",{className:"div-results",children:[a&&!u&&t("p",{className:"submit-error",children:"An error occured when submitting prediction results. Please retry in a few minutes."}),a&&u&&i("p",{className:"submit-success",children:["Record Serial Number ",t("strong",{children:u})," to link patient data to prediction result."]}),t("h1",{children:"Prediction"}),a&&i("p",{children:["A estimated probability of ",t("strong",{children:parseFloat(o.model.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.model.protocol}`,children:[" ",o.model.label," "]})," be initiated."]}),t("h1",{children:"Shock Index"}),a&&i("p",{children:["A Shock Index of ",t("strong",{children:parseFloat(o.SI.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.SI.protocol}`,children:[" ",o.SI.label," "]})," be initiated."]}),t("h1",{children:"ABC Score"}),a&&i("p",{children:["A ABC Score of ",t("strong",{children:o.ABC.prediction})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.ABC.protocol}`,children:[" ",o.ABC.label," "]})," be initiated."]})]})]})},T={C0:"Less than 62",C1:"Between 63 and 110",C2:"Between 111 and 187",C3:"More or equal than 188"},R={C0:"Less than 10",C1:"Between 11 and 21",C2:"Between 22 and 39",C3:"Between 40 and 47",C4:"More or equal than 48"},y={C0:"Less than 61%",C1:"Between 62% and 76%",C2:"Between 77% and 94%",C3:"More or equal than 95%"},H={AGE:25,DBP:T.C2,SBP:120,RR:R.C2,O2:y.C2,HR:120,PR:"Not Performed",SPF:"No",FC:!1,FRLPA:!1,PNR:"No",BLR:"No",GCSEO:"Not Testable +0",GCSVR:"Not Testable/Intubated +0",GCSMR:"Not Testable +0",INTERCEPT:1},$={AGE:.02333,BLR:.759472,DBP_C1:-.507755,DBP_C2:.712088,DBP_C3:-.003424,FC:.277094,FRLPA:-.594136,GCSEO_C1:-.153282,GCSEO_C2:.139984,GCSEO_C3:.122044,GCSEO_C4:-.363056,GCSMR:-.271706,GCSVR:-.106724,HR:.014272,INTERCEPT:-.254309,O2_C1:-.043937,O2_C2:.283156,O2_C3:-.429971,PLRA:.222336,PLRN:.810265,PNR:.405756,RR_C1:-.367808,RR_C2:.22607,RR_C3:-.13537,RR_C4:.144202,SBP:-.022975,SPF:.362566},Y=.079345094,Te=({state:s,setIsMTP:n})=>{const e=h({},s);switch(e.INTERCEPT=1,e.O2_C1=0,e.O2_C2=0,e.O2_C3=0,e.O2){case y.C1:e.O2_C1=1;break;case y.C2:e.O2_C2=1;break;case y.C3:e.O2_C3=1;break}switch(e.RR_C1=0,e.RR_C2=0,e.RR_C3=0,e.RR_C4=0,e.RR){case R.C1:e.RR_C1=1;break;case R.C2:e.RR_C2=1;break;case R.C3:e.RR_C3=1;break;case R.C4:e.RR_C4=1;break}switch(e.DBP_C1=0,e.DBP_C2=0,e.DBP_C3=0,e.DBP){case T.C1:e.DBP_C1=1;break;case T.C2:e.DBP_C2=1;break;case T.C3:e.DBP_C3=1;break}switch(e.GCSEO_C1=0,e.GCSEO_C2=0,e.GCSEO_C3=0,e.GCSEO_C4=0,e.GCSEO){case"Spontaneously +4":e.GCSEO_C4=4;break;case"To Verbal Commend +3":e.GCSEO_C3=3;break;case"To Pain +2":e.GCSEO_C2=2;break;case"No Eye Opening +1":e.GCSEO_C1=1;break}switch(e.SPF=e.SPF==="Yes"?1:0,e.PNR=e.PNR==="Yes"?1:0,e.BLR=e.BLR==="Yes"?1:0,e.PLRA=0,e.PLRN=0,e.PR){case"Positive":e.PLRN=1;break;case"Negative":e.PLRA=1;break}switch(e.GCSVR){case"Oriented +5":e.GCSVR=5;break;case"Confused +4":e.GCSVR=4;break;case"Inappropiate Words +3":e.GCSVR=3;break;case"Incomprehensible Sounds +2":e.GCSVR=2;break;case"No Verbal Response +1":e.GCSVR=1;break;default:e.GCSVR=0;break}switch(e.GCSMR){case"Obeys Commands +6":e.GCSMR=6;break;case"Localizes Pain +5":e.GCSMR=5;break;case"Withdrawal from Pain +4":e.GCSMR=4;break;case"Flexion to Pain +3":e.GCSMR=3;break;case"Extension to Pain +2":e.GCSMR=2;break;case"No Motor Response +1":e.GCSMR=1;break;default:e.GCSMR=0;break}let o=0;Object.keys($).forEach(c=>{o+=e[c]*$[c]}),o=1/(1+Math.exp(-o));const r=e.HR/e.SBP;let a=0;a+=e.PNR?1:0,a+=e.SBP>90?1:0,a+=e.HR>120?1:0,a+=e.FC+e.FRLPA>0?1:0,n(c=>S(h({},c),{model:{protocol:o>Y,label:o>Y?"should":"shouldn't",prediction:o},SI:{protocol:r>=1,label:r>=1?"should":"shouldn't",prediction:r},ABC:{protocol:a>=2,label:a>=2?"should":"shouldn't",prediction:a}}))},ye=()=>({state:n,setIsMTP:e})=>{d.exports.useEffect(()=>{Te({state:n,setIsMTP:e})},[n])},Ge=()=>{const[n,e]=d.exports.useState(H),[o,r]=d.exports.useState({}),[a,c]=d.exports.useState(!1),[u,b]=d.exports.useState();ye()({state:n,setIsMTP:r});const v=()=>{w({state:n,isMTP:o,setShowResults:c,setResultSerialNumber:b,modelNum:2})},P=()=>{e(H),c(!1)};return i(C,{children:[i("div",{className:"model-input-zone",children:[t(l,{defaultValue:25,inputNumber:"(1/14)",inputType:"slide",name:"AGE",range:[16,100],setState:e,state:n,title:"Age"}),t(l,{defaultValue:120,description:"(mm Hg)",inputNumber:"(2/14)",inputType:"slide",name:"SBP",range:[1,200],setState:e,state:n,title:"Systolic Blood Pressure"}),t(l,{defaultValue:80,description:"(mm Hg)",inputNumber:"(3/14)",inputType:"options",name:"DBP",options:[T.C0,T.C1,T.C2,T.C3],setState:e,state:n,title:"Diastolic Blood Pressure"}),t(l,{defaultValue:12,description:"(Breaths per minute)",inputNumber:"(4/14)",inputType:"options",name:"RR",options:[R.C0,R.C1,R.C2,R.C3,R.C4],setState:e,state:n,title:"Respiratory Rate"}),t(l,{defaultValue:12,description:"(O2%)",inputNumber:"(5/14)",inputType:"options",name:"O2",options:[y.C0,y.C1,y.C2,y.C3],setState:e,state:n,title:"Oxygen Saturation %"}),t(l,{defaultValue:120,description:"(Beats per minute)",inputNumber:"(6/14)",inputType:"slide",name:"HR",range:[1,200],setState:e,state:n,title:"Heart Rate"})]}),t("h1",{style:{marginTop:40},children:"Examination"}),i("div",{className:"model-input-zone",children:[t(l,{defaultValue:"Not Performed",inputNumber:"(7/14)",inputType:"options",name:"PR",options:["Not Performed","Positive","Negative"],setState:e,state:n,title:"Pelvis Exam Result"}),t(l,{defaultValue:"No",inputNumber:"(8/14)",inputType:"options",name:"SPF",options:["Yes","No"],setState:e,state:n,title:"Severe Pelvis Fracture"}),t(l,{defaultValue:"Negative",inputNumber:"(9/14)",inputType:"checkbox",name:"FAST",options:[{name:"FC",label:"Positive Chest"},{name:"FRLPA",label:"Positive RUQ, LUQ, Pelvis, Abdomen"}],setState:e,state:n,title:"FAST Exam Result"}),t(l,{defaultValue:"No",inputNumber:"(10/14)",inputType:"options",name:"PNR",options:["Yes","No"],setState:e,state:n,title:"Penetrating Trauma"}),t(l,{defaultValue:"No",inputNumber:"(11/14)",inputType:"options",name:"BLR",options:["Yes","No"],setState:e,state:n,title:"Blunt Trauma"})]}),t("h1",{style:{marginTop:40},children:"GCS Test"}),i("div",{className:"model-input-zone",children:[t(l,{defaultValue:"Not Testable +0",inputNumber:"(12/14)",inputType:"options",name:"GCSEO",options:["Spontaneously +4","To Verbal Commend +3","To Pain +2","No Eye Opening +1","Not Testable +0"],setState:e,state:n,title:"GCS Eye Opening"}),t(l,{defaultValue:"Not Testable/Intubated +0",inputNumber:"(13/14)",inputType:"options",name:"GCSVR",options:["Oriented +5","Confused +4","Inappropiate Words +3","Incomprehensible Sounds +2","No Verbal Response +1","Not Testable/Intubated +0"],setState:e,state:n,title:"GCS Verbal Response"}),t(l,{defaultValue:"Not Testable +0",inputNumber:"(14/14)",inputType:"options",name:"GCSMR",options:["Obeys Commands +6","Localizes Pain +5","Withdrawal from Pain +4","Flexion to Pain +3","Extension to Pain +2","No Motor Response +1","Not Testable +0"],setState:e,state:n,title:"GCS Motor Response"})]}),t("div",{className:"info-buttons",children:t(f,{theme:g,children:i(M,{variant:"contained","aria-label":"outlined primary button group",size:"large",children:[t(m,{onClick:v,children:"Predict"}),t(m,{onClick:P,children:"Reset"})]})})}),i("div",{className:"div-results",children:[a&&!u&&t("p",{className:"submit-error",children:"An error occured when submitting prediction results. Please retry in a few minutes."}),a&&u&&i("p",{className:"submit-success",children:["Record Serial Number ",t("strong",{children:u})," to link patient data to prediction result."]}),t("h1",{children:"Prediction"}),a&&i("p",{children:["A estimated probability of ",t("strong",{children:parseFloat(o.model.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.model.protocol}`,children:[" ",o.model.label," "]})," be initiated."]}),t("h1",{children:"Shock Index"}),a&&i("p",{children:["A Shock Index of ",t("strong",{children:parseFloat(o.SI.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.SI.protocol}`,children:[" ",o.SI.label," "]})," be initiated."]}),t("h1",{children:"ABC Score"}),a&&i("p",{children:["A ABC Score of ",t("strong",{children:o.ABC.prediction})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.ABC.protocol}`,children:[" ",o.ABC.label," "]})," be initiated."]})]})]})},D={AGE:25,SBP:120,O2:80,HR:120,PR:"Not Performed",SPF:"No",FC:!1,FRLPA:!1,PNR:"No",BLR:"No",GCSVR:"Not Testable/Intubated +0",INTERCEPT:1},W={BLR:.906485,PLRN:.843454,PNR:.481155,FC:.37746,AGE:.025756,HR:.02196,SBP:-.017905,O2:-.030895,GCSVR:-.388106,FRLPA:-.492113,INTERCEPT:-.041033},q=.079345094,Me=({state:s,setIsMTP:n})=>{const e=h({},s);switch(e.INTERCEPT=1,e.SPF=e.SPF==="Yes"?1:0,e.PNR=e.PNR==="Yes"?1:0,e.BLR=e.BLR==="Yes"?1:0,e.PLRA=0,e.PLRN=0,e.PR){case"Positive":e.PLRN=1;break;case"Negative":e.PLRA=1;break}switch(e.GCSVR){case"Oriented +5":e.GCSVR=5;break;case"Confused +4":e.GCSVR=4;break;case"Inappropiate Words +3":e.GCSVR=3;break;case"Incomprehensible Sounds +2":e.GCSVR=2;break;case"No Verbal Response +1":e.GCSVR=1;break;default:e.GCSVR=0;break}let o=0;Object.keys(W).forEach(c=>{o+=e[c]*W[c]}),o=1/(1+Math.exp(-o));const r=e.HR/e.SBP;let a=0;a+=e.PNR?1:0,a+=e.SBP>90?1:0,a+=e.HR>120?1:0,a+=e.FC+e.FRLPA>0?1:0,n(c=>S(h({},c),{model:{protocol:o>q,label:o>q?"should":"shouldn't",prediction:o},SI:{protocol:r>=1,label:r>=1?"should":"shouldn't",prediction:r},ABC:{protocol:a>=2,label:a>=2?"should":"shouldn't",prediction:a}}))},Be=()=>({state:n,setIsMTP:e})=>{d.exports.useEffect(()=>{Me({state:n,setIsMTP:e})},[n])},Ve=()=>{const[n,e]=d.exports.useState(D),[o,r]=d.exports.useState({}),[a,c]=d.exports.useState(!1),[u,b]=d.exports.useState();return Be()({state:n,setIsMTP:r}),i(C,{children:[i("div",{className:"model-input-zone",children:[t(l,{defaultValue:25,inputNumber:"(1/10)",inputType:"slide",name:"AGE",range:[16,100],setState:e,state:n,title:"Age"}),t(l,{defaultValue:120,description:"(mm Hg)",inputNumber:"(2/10)",inputType:"slide",name:"SBP",range:[1,200],setState:e,state:n,title:"Systolic Blood Pressure"}),t(l,{defaultValue:12,description:"(O2%)",inputNumber:"(3/10)",inputType:"slide",name:"O2",range:[1,100],setState:e,state:n,title:"Oxygen Saturation %"}),t(l,{defaultValue:120,description:"(Beats per minute)",inputNumber:"(4/10)",inputType:"slide",name:"HR",range:[1,200],setState:e,state:n,title:"Heart Rate"})]}),t("h1",{style:{marginTop:40},children:"Examination"}),i("div",{className:"model-input-zone",children:[t(l,{defaultValue:"Not Performed",inputNumber:"(5/10)",inputType:"options",name:"PR",options:["Not Performed","Positive","Negative"],setState:e,state:n,title:"Pelvis Exam Result"}),t(l,{defaultValue:"No",inputNumber:"(6/10)",inputType:"options",name:"SPF",options:["Yes","No"],setState:e,state:n,title:"Severe Pelvis Fracture"}),t(l,{defaultValue:"Negative",inputNumber:"(7/10)",inputType:"checkbox",name:"FAST",options:[{name:"FC",label:"Positive Chest"},{name:"FRLPA",label:"Positive RUQ, LUQ, Pelvis, Abdomen"}],setState:e,state:n,title:"FAST Exam Result"}),t(l,{defaultValue:"No",inputNumber:"(8/10)",inputType:"options",name:"PNR",options:["Yes","No"],setState:e,state:n,title:"Penetrating Trauma"}),t(l,{defaultValue:"No",inputNumber:"(9/10)",inputType:"options",name:"BLR",options:["Yes","No"],setState:e,state:n,title:"Blunt Trauma"})]}),t("h1",{style:{marginTop:40},children:"GCS Test"}),t("div",{className:"model-input-zone",children:t(l,{defaultValue:"Not Testable/Intubated +0",inputNumber:"(10/10)",inputType:"options",name:"GCSVR",options:["Oriented +5","Confused +4","Inappropiate Words +3","Incomprehensible Sounds +2","No Verbal Response +1","Not Testable/Intubated +0"],setState:e,state:n,title:"GCS Verbal Response"})}),t("div",{className:"info-buttons",children:t(f,{theme:g,children:i(M,{variant:"contained","aria-label":"outlined primary button group",size:"large",children:[t(m,{onClick:()=>{w({state:n,isMTP:o,setShowResults:c,setResultSerialNumber:b,modelNum:3})},children:"Predict"}),t(m,{onClick:()=>{e(D),c(!1)},children:"Reset"})]})})}),i("div",{className:"div-results",children:[a&&!u&&t("p",{className:"submit-error",children:"An error occured when submitting prediction results. Please retry in a few minutes."}),a&&u&&i("p",{className:"submit-success",children:["Record Serial Number ",t("strong",{children:u})," to link patient data to prediction result."]}),t("h1",{children:"Prediction"}),a&&i("p",{children:["A estimated probability of ",t("strong",{children:parseFloat(o.model.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.model.protocol}`,children:[" ",o.model.label," "]})," be initiated."]}),t("h1",{children:"Shock Index"}),a&&i("p",{children:["A Shock Index of ",t("strong",{children:parseFloat(o.SI.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.SI.protocol}`,children:[" ",o.SI.label," "]})," be initiated."]}),t("h1",{children:"ABC Score"}),a&&i("p",{children:["A ABC Score of ",t("strong",{children:o.ABC.prediction})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.ABC.protocol}`,children:[" ",o.ABC.label," "]})," be initiated."]})]})]})},U={AGE:25,SBP:120,O2:80,HR:120,PR:"Not Performed",SPF:"No",FC:!1,FRLPA:!1,PNR:"No",BLR:"No",GCSVR:"Not Testable/Intubated +0",INTERCEPT:1},j={BLR:.888268,PLRN:.771484,GCSVR_C1:.489351,PNR:.472831,FC:.314009,GCSVR_C2:.209177,PLRA:.187797,GCSVR_C3:.055359,AGE:.024492,HR:.020412,SBP:-.017623,GCSVR_C4:-.03022,O2:-.040032,FRLPA:-.465055,GCSVR_C5:-.79115,INTERCEPT:-.067483},Q=.079345094,Ae=({state:s,setIsMTP:n})=>{const e=h({},s);switch(e.INTERCEPT=1,e.SPF=e.SPF==="Yes"?1:0,e.PNR=e.PNR==="Yes"?1:0,e.BLR=e.BLR==="Yes"?1:0,e.PLRA=0,e.PLRN=0,e.GCSVR_C1=0,e.GCSVR_C2=0,e.GCSVR_C3=0,e.GCSVR_C4=0,e.GCSVR_C5=0,e.GCSVR){case"Oriented +5":e.GCSVR_C5=1;break;case"Confused +4":e.GCSVR_C4=1;break;case"Inappropiate Words +3":e.GCSVR_C3=1;break;case"Incomprehensible Sounds +2":e.GCSVR_C2=1;break;case"No Verbal Response +1":e.GCSVR_C1=1;break}switch(e.PR){case"Positive":e.PLRN=1;break;case"Negative":e.PLRA=1;break}let o=0;Object.keys(j).forEach(c=>{o+=e[c]*j[c]}),o=1/(1+Math.exp(-o));const r=e.HR/e.SBP;let a=0;a+=e.PNR?1:0,a+=e.SBP>90?1:0,a+=e.HR>120?1:0,a+=e.FC+e.FRLPA>0?1:0,n(c=>S(h({},c),{model:{protocol:o>Q,label:o>Q?"should":"shouldn't",prediction:o},SI:{protocol:r>=1,label:r>=1?"should":"shouldn't",prediction:r},ABC:{protocol:a>=2,label:a>=2?"should":"shouldn't",prediction:a}}))},ke=()=>({state:n,setIsMTP:e})=>{d.exports.useEffect(()=>{Ae({state:n,setIsMTP:e})},[n])},we=()=>{const[n,e]=d.exports.useState(U),[o,r]=d.exports.useState({}),[a,c]=d.exports.useState(!1),[u,b]=d.exports.useState();return ke()({state:n,setIsMTP:r}),i(C,{children:[i("div",{className:"model-input-zone",children:[t(l,{defaultValue:25,inputNumber:"(1/10)",inputType:"slide",name:"AGE",range:[16,100],setState:e,state:n,title:"Age"}),t(l,{defaultValue:120,description:"(mm Hg)",inputNumber:"(2/10)",inputType:"slide",name:"SBP",range:[1,200],setState:e,state:n,title:"Systolic Blood Pressure"}),t(l,{defaultValue:12,description:"(O2%)",inputNumber:"(3/10)",inputType:"slide",name:"O2",range:[1,100],setState:e,state:n,title:"Oxygen Saturation %"}),t(l,{defaultValue:120,description:"(Beats per minute)",inputNumber:"(4/10)",inputType:"slide",name:"HR",range:[1,200],setState:e,state:n,title:"Heart Rate"})]}),t("h1",{style:{marginTop:40},children:"Examination"}),i("div",{className:"model-input-zone",children:[t(l,{defaultValue:"Not Performed",inputNumber:"(5/10)",inputType:"options",name:"PR",options:["Not Performed","Positive","Negative"],setState:e,state:n,title:"Pelvis Exam Result"}),t(l,{defaultValue:"No",inputNumber:"(6/10)",inputType:"options",name:"SPF",options:["Yes","No"],setState:e,state:n,title:"Severe Pelvis Fracture"}),t(l,{defaultValue:"Negative",inputNumber:"(7/10)",inputType:"checkbox",name:"FAST",options:[{name:"FC",label:"Positive Chest"},{name:"FRLPA",label:"Positive RUQ, LUQ, Pelvis, Abdomen"}],setState:e,state:n,title:"FAST Exam Result"}),t(l,{defaultValue:"No",inputNumber:"(8/10)",inputType:"options",name:"PNR",options:["Yes","No"],setState:e,state:n,title:"Penetrating Trauma"}),t(l,{defaultValue:"No",inputNumber:"(9/10)",inputType:"options",name:"BLR",options:["Yes","No"],setState:e,state:n,title:"Blunt Trauma"})]}),t("h1",{style:{marginTop:40},children:"GCS Test"}),t("div",{className:"model-input-zone",children:t(l,{defaultValue:"Not Testable/Intubated +0",inputNumber:"(10/10)",inputType:"options",name:"GCSVR",options:["Oriented +5","Confused +4","Inappropiate Words +3","Incomprehensible Sounds +2","No Verbal Response +1","Not Testable/Intubated +0"],setState:e,state:n,title:"GCS Verbal Response"})}),t("div",{className:"info-buttons",children:t(f,{theme:g,children:i(M,{variant:"contained","aria-label":"outlined primary button group",size:"large",children:[t(m,{onClick:()=>{w({state:n,isMTP:o,setShowResults:c,setResultSerialNumber:b,modelNum:4})},children:"Predict"}),t(m,{onClick:()=>{e(U),c(!1)},children:"Reset"})]})})}),i("div",{className:"div-results",children:[a&&!u&&t("p",{className:"submit-error",children:"An error occured when submitting prediction results. Please retry in a few minutes."}),a&&u&&i("p",{className:"submit-success",children:["Record Serial Number ",t("strong",{children:u})," to link patient data to prediction result."]}),t("h1",{children:"Prediction"}),a&&i("p",{children:["A estimated probability of ",t("strong",{children:parseFloat(o.model.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.model.protocol}`,children:[" ",o.model.label," "]})," be initiated."]}),t("h1",{children:"Shock Index"}),a&&i("p",{children:["A Shock Index of ",t("strong",{children:parseFloat(o.SI.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.SI.protocol}`,children:[" ",o.SI.label," "]})," be initiated."]}),t("h1",{children:"ABC Score"}),a&&i("p",{children:["A ABC Score of ",t("strong",{children:o.ABC.prediction})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.ABC.protocol}`,children:[" ",o.ABC.label," "]})," be initiated."]})]})]})},E={C0:"Less than 40 years",C1:"More or equal to 40 years"},G={C0:"Less than 61%",C1:"Between 62% and 76%",C2:"Between 77% and 94%",C3:"More or equal than 95%"},K={AGE:E.C0,SBP:120,O2:G.C2,HR:120,PR:"Not Performed",SPF:"No",FC:!1,FRLPA:!1,PNR:"No",BLR:"No",GCSEO:"Not Testable +0",GCSVR:"Not Testable/Intubated +0",GCSMR:"Not Testable +0",INTERCEPT:1},J={BLR:.90953739,AGE_C1:.51961701,O2_C2:.34700517,HR:.01612016,SBP:-.02161408,O2_C1:-.02425944,GCSMR:-.32412496,O2_C3:-.56184593,INTERCEPT:-.29867478},X=.079345094,Ee=({state:s,setIsMTP:n})=>{const e=h({},s);switch(e.INTERCEPT=1,e.O2_C1=0,e.O2_C2=0,e.O2_C3=0,e.O2){case G.C1:e.O2_C1=1;break;case G.C2:e.O2_C2=1;break;case G.C3:e.O2_C3=1;break}switch(e.AGE_C1=0,e.AGE===E.C1&&(e.AGE_C1=1),e.GCSMR_C1=0,e.GCSMR_C2=0,e.GCSMR_C3=0,e.GCSMR_C4=0,e.GCSMR_C5=0,e.GCSMR_C6=0,e.GCSMR){case"Obeys Commands +6":e.GCSMR_C6=6;break;case"Localizes Pain +5":e.GCSMR_C5=5;break;case"Withdrawal from Pain +4":e.GCSMR_C4=4;break;case"Flexion to Pain +3":e.GCSMR_C3=3;break;case"Extension to Pain +2":e.GCSMR_C2=2;break;case"No Motor Response +1":e.GCSMR_C1=1;break}switch(e.SPF=e.SPF==="Yes"?1:0,e.PNR=e.PNR==="Yes"?1:0,e.BLR=e.BLR==="Yes"?1:0,e.PLRA=0,e.PLRN=0,e.PR){case"Positive":e.PLRN=1;break;case"Negative":e.PLRA=1;break}switch(e.GCSVR){case"Oriented +5":e.GCSVR=5;break;case"Confused +4":e.GCSVR=4;break;case"Inappropiate Words +3":e.GCSVR=3;break;case"Incomprehensible Sounds +2":e.GCSVR=2;break;case"No Verbal Response +1":e.GCSVR=1;break;default:e.GCSVR=0;break}switch(e.GCSMR){case"Obeys Commands +6":e.GCSMR=6;break;case"Localizes Pain +5":e.GCSMR=5;break;case"Withdrawal from Pain +4":e.GCSMR=4;break;case"Flexion to Pain +3":e.GCSMR=3;break;case"Extension to Pain +2":e.GCSMR=2;break;case"No Motor Response +1":e.GCSMR=1;break;default:e.GCSMR=0;break}let o=0;Object.keys(J).forEach(a=>{o+=e[a]*J[a]}),o=1/(1+Math.exp(-o));const r=e.HR/e.SBP;n(a=>S(h({},a),{model:{protocol:o>X,label:o>X?"should":"shouldn't",prediction:o},SI:{protocol:r>=1,label:r>=1?"should":"shouldn't",prediction:r}}))},xe=()=>({state:n,setIsMTP:e})=>{d.exports.useEffect(()=>{Ee({state:n,setIsMTP:e})},[n])},Oe=()=>{const[n,e]=d.exports.useState(K),[o,r]=d.exports.useState({}),[a,c]=d.exports.useState(!1),[u,b]=d.exports.useState();xe()({state:n,setIsMTP:r});const v=()=>{w({state:n,isMTP:o,setShowResults:c,setResultSerialNumber:b,modelNum:5})},P=()=>{e(K),c(!1)};return i(C,{children:[i("div",{className:"model-input-zone",children:[t(l,{defaultValue:25,inputNumber:"(1/6)",inputType:"options",name:"AGE",options:[E.C0,E.C1],setState:e,state:n,title:"Age"}),t(l,{defaultValue:120,description:"(mm Hg)",inputNumber:"(2/6)",inputType:"slide",name:"SBP",range:[1,200],setState:e,state:n,title:"Systolic Blood Pressure"}),t(l,{defaultValue:12,description:"(O2%)",inputNumber:"(3/6)",inputType:"options",name:"O2",options:[G.C0,G.C1,G.C2,G.C3],setState:e,state:n,title:"Oxygen Saturation %"}),t(l,{defaultValue:120,description:"(Beats per minute)",inputNumber:"(4/6)",inputType:"slide",name:"HR",range:[1,200],setState:e,state:n,title:"Heart Rate"})]}),t("h1",{style:{marginTop:40},children:"Examination"}),t("div",{className:"model-input-zone",children:t(l,{defaultValue:"No",inputNumber:"(5/6)",inputType:"options",name:"BLR",options:["Yes","No"],setState:e,state:n,title:"Blunt Trauma"})}),t("h1",{style:{marginTop:40},children:"GCS Test"}),t("div",{className:"model-input-zone",children:t(l,{defaultValue:"Not Testable +0",inputNumber:"(6/6)",inputType:"options",name:"GCSMR",options:["Obeys Commands +6","Localizes Pain +5","Withdrawal from Pain +4","Flexion to Pain +3","Extension to Pain +2","No Motor Response +1","Not Testable +0"],setState:e,state:n,title:"GCS Motor Response"})}),t("div",{className:"info-buttons",children:t(f,{theme:g,children:i(M,{variant:"contained","aria-label":"outlined primary button group",size:"large",children:[t(m,{onClick:v,children:"Predict"}),t(m,{onClick:P,children:"Reset"})]})})}),i("div",{className:"div-results",children:[a&&!u&&t("p",{className:"submit-error",children:"An error occured when submitting prediction results. Please retry in a few minutes."}),a&&u&&i("p",{className:"submit-success",children:["Record Serial Number ",t("strong",{children:u})," to link patient data to prediction result."]}),t("h1",{children:"Prediction"}),a&&i("p",{children:["A estimated probability of ",t("strong",{children:parseFloat(o.model.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.model.protocol}`,children:[" ",o.model.label," "]})," be initiated."]}),t("h1",{children:"Shock Index"}),a&&i("p",{children:["A Shock Index of ",t("strong",{children:parseFloat(o.SI.prediction).toFixed(3)})," suggests that massive transfusion protocol ",i("span",{className:`result-${o.SI.protocol}`,children:[" ",o.SI.label," "]})," be initiated."]})]})]})},Fe=()=>{const[s,n]=d.exports.useState(null),e=o=>r=>{n(s===o?null:o)};return t(C,{children:i(f,{theme:g,children:[i("div",{className:"div-overview",children:[t("p",{style:{marginBottom:10},children:"To predict when a patient will need an MTP, we develop 5 models where we realized some experiments, reducing the number of variables included as well splitting the numerical variables into categories. Those models are:"}),i(V,{onChange:e("model1"),expanded:s==="model1",children:[t(A,{"aria-controls":"model1-content",id:"model1",children:t("strong",{children:"Model 1 (M1)"})}),t(k,{children:t("p",{children:"This is the base model where we used the 16 variables available."})})]}),i(V,{onChange:e("model2"),expanded:s==="model2",children:[t(A,{"aria-controls":"model2-content",id:"model2",children:t("strong",{children:"Model 2 (M2)"})}),i(k,{children:[t("p",{children:"This model uses all the variables, but the following were split into categories:"}),i("ul",{children:[i("li",{children:[t("i",{children:"Diastolic Blood Pressure: "}),"There were created 4 categories: Less than 62, between 63 and 110, between 111 and 187, and more or equal than 188."]}),i("li",{children:[t("i",{children:"Respiration Rate: "}),"There were created 5 categories: Less than 10, between 11 and 21, between 22 and 39, between 40 and 47, and more or equal than 48."]}),i("li",{children:[t("i",{children:"Oxygen Saturation %: "}),"There were created 4 categories: Less than 61, between 62 and 76, between 77 and 94, and more or equal than 95."]}),i("li",{children:[t("i",{children:"GCS - Eye Opening: "}),"This variable was treated as categorical rather than numerical."]})]})]})]}),i(V,{onChange:e("model3"),expanded:s==="model3",children:[t(A,{"aria-controls":"model3-content",id:"model3",children:t("strong",{children:"Model 3 (M3)"})}),t(k,{children:t("p",{children:"This model only uses the following variables: age, systolic blood pressure, oxygen saturation, heart rate, pelvis exam result, FAST exam result, penetrating trauma, blunt trauma, and GCS - verbal response."})})]}),i(V,{onChange:e("model4"),expanded:s==="model4",children:[t(A,{"aria-controls":"model4-content",id:"model4",children:t("strong",{children:"Model 4 (M4)"})}),t(k,{children:t("p",{children:"This model uses the same variables as model 3, but the variable GCS - verbal response is treated as categorical."})})]}),i(V,{onChange:e("model5"),expanded:s==="model5",children:[t(A,{"aria-controls":"model5-content",id:"model5",children:t("strong",{children:"Model 5 (M5)"})}),i(k,{children:[t("p",{children:"This model only uses the following variables: age, systolic blood pressure, oxygen saturation, heart rate, pelvis exam result, blunt trauma, and GCS - motion response. Additionally, the following variables were split into categories:"}),i("ul",{children:[i("li",{children:[t("i",{children:"Age: "}),"There were created 2 categories: Less than 39 and more than 40 years old."]}),i("li",{children:[t("i",{children:"Oxygen Saturation %: "}),"There were created 4 categories: Less than 61, between 62 and 76, between 77 and 94, and more or equal than 95."]})]})]})]}),t("p",{children:"The following table shows the performance of each model."})]}),i("div",{className:"div-table",children:[i("div",{className:"div-table__left",children:[t("i",{className:"top bottom",children:t("strong",{children:"Model"})}),t("p",{children:"M1"}),t("p",{children:"M2"}),t("p",{children:"M3"}),t("p",{children:"M4"}),t("p",{className:"bottom",children:"M5"})]}),i("div",{className:"div-table__right",children:[t("i",{className:"top bottom",children:t("strong",{children:"AUC"})}),t("i",{className:"top bottom",children:t("strong",{children:"Sensitivity"})}),t("i",{className:"top bottom",children:t("strong",{children:"Specificity"})}),t("i",{className:"top bottom",children:t("strong",{children:"Cutoff"})}),t("i",{className:"top bottom",children:t("strong",{children:"TP"})}),t("i",{className:"top bottom",children:t("strong",{children:"FP"})}),t("i",{className:"top bottom",children:t("strong",{children:"TN"})}),t("i",{className:"top bottom",children:t("strong",{children:"FN"})}),t("i",{className:"top bottom",children:t("strong",{children:"Variables"})}),t("i",{className:"top bottom",children:t("strong",{children:"Numerical"})}),t("i",{className:"top bottom",children:t("strong",{children:"Categorical"})}),t("p",{children:"0.858"}),t("p",{children:"0.72"}),t("p",{children:"0.849"}),t("p",{children:"0.079"}),t("p",{children:"18"}),t("p",{children:"70"}),t("p",{children:"394"}),t("p",{children:"7"}),t("p",{children:"16"}),t("p",{children:"7"}),t("p",{children:"9"}),t("strong",{children:"0.893"}),t("p",{children:"0.88"}),t("p",{children:"0.821"}),t("p",{children:"0.065"}),t("p",{children:"22"}),t("p",{children:"83"}),t("p",{children:"381"}),t("p",{children:"3"}),t("p",{children:"26"}),t("p",{children:"21"}),t("p",{children:"5"}),t("p",{children:"0.872"}),t("strong",{children:"0.92"}),t("p",{children:"0.836"}),t("p",{children:"0.067"}),t("strong",{children:"23"}),t("p",{children:"76"}),t("p",{children:"388"}),t("strong",{children:"2"}),t("p",{children:"10"}),t("p",{children:"5"}),t("p",{children:"5"}),t("p",{children:"0.864"}),t("strong",{children:"0.92"}),t("p",{children:"0.808"}),t("p",{children:"0.063"}),t("strong",{children:"23"}),t("p",{children:"89"}),t("p",{children:"375"}),t("strong",{children:"2"}),t("p",{children:"15"}),t("p",{children:"11"}),t("p",{children:"4"}),t("p",{className:"bottom",children:"0.872"}),t("p",{className:"bottom",children:"0.84"}),t("strong",{className:"bottom",children:"0.862"}),t("p",{className:"bottom",children:"0.073"}),t("p",{className:"bottom",children:"21"}),t("strong",{className:"bottom",children:"64"}),t("strong",{className:"bottom",children:"400"}),t("p",{className:"bottom",children:"4"}),t("p",{className:"bottom",children:"8"}),t("p",{className:"bottom",children:"5"}),t("p",{className:"bottom",children:"3"})]})]}),t("i",{style:{fontSize:9,marginBottom:5,marginTop:5},children:"*There were used 1949 observations to train the models and 489 observations to validate them."}),t("i",{style:{fontSize:9,marginBottom:15,marginTop:0},children:"*Bold values are referred to the best value for each metric."})]})})},_e=[{value:"overview",name:"Models Overview"},{value:"model1",name:"Model 1"},{value:"model2",name:"Model 2"},{value:"model3",name:"Model 3"},{value:"model4",name:"Model 4"},{value:"model5",name:"Model 5"}],Le=({model:s,setModel:n})=>t("div",{className:"model",children:i(f,{theme:g,children:[t(Z,{value:s,onChange:o=>n(o.target.value),displayEmpty:!0,inputProps:{"aria-label":"Without label"},name:"model",className:"model-select",children:_e.map(o=>t(ee,{value:o.value,children:o.name},o.value))}),s==="overview"&&t(Fe,{}),s==="model1"&&t(ve,{}),s==="model2"&&t(Ge,{}),s==="model3"&&t(Ve,{}),s==="model4"&&t(we,{}),s==="model5"&&t(Oe,{}),s!=="overview"&&t(Ne,{})]})});function Ie(){const[s,n]=d.exports.useState("overview"),[e,o]=d.exports.useState("default");return i(C,{children:[t(Ce,{}),s!=="overview"&&t(Re,{model:s,top:e,setTop:o}),t(Le,{model:s,setModel:n})]})}pe.render(t(he.StrictMode,{children:t(Ie,{})}),document.getElementById("root"));
